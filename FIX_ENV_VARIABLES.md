# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

## –ü—Ä–æ–±–ª–µ–º–∞

`process.env.NEXT_PUBLIC_BOT_API_KEY` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –≤—Å—Ç—Ä–æ–∏–ª–∏—Å—å –≤ bundle.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env.local —Ñ–∞–π–ª

```bash
cd /var/www/backend
cat .env.local
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –±–µ–∑ –∫–∞–≤—ã—á–µ–∫):
```bash
NEXT_PUBLIC_BOT_API_BASE=https://webhook.glco.us/api
NEXT_PUBLIC_BOT_API_KEY=aB3cD4eF5gH6iJ7kL8mN9oP0qR1sT2uV3wX4yZ5aB6cD7eF8gH9iJ0kL1mN2oP3
```

**–í–∞–∂–Ω–æ:**
- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ–±–µ–ª–æ–≤ –≤–æ–∫—Ä—É–≥ `=`
- –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫–∞–≤—ã—á–µ–∫ –≤–æ–∫—Ä—É–≥ –∑–Ω–∞—á–µ–Ω–∏–π
- –ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

### 2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π build –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ

```bash
cd /var/www/backend

# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π build
rm -rf .next

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Next.js

```bash
# –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ PM2
pm2 restart all --update-env

# –ò–ª–∏ –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
```

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ Console –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
- –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ `[OilChangeAPI] API_BASE:` –∏ `[OilChangeAPI] API_KEY:`
- –ï—Å–ª–∏ `API_KEY: NOT SET` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –≤—Å—Ç—Ä–æ–∏–ª–∏—Å—å

### 5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç .env.local

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤):
```
NEXT_PUBLIC_BOT_API_BASE=https://webhook.glco.us/api
NEXT_PUBLIC_BOT_API_KEY=aB3cD4eF5gH6iJ7kL8mN9oP0qR1sT2uV3wX4yZ5aB6cD7eF8gH9iJ0kL1mN2oP3
```

### 6. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env` –≤–º–µ—Å—Ç–æ `.env.local`:

```bash
cd /var/www/backend
nano .env
```

–î–æ–±–∞–≤—å—Ç–µ —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
